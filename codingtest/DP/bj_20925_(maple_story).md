# 백준 20925번

메이플스토리

## 문제

메이플스토리에는 여러 가지 사냥터가 있다. 각 사냥터는 입장에 필요한 최소 레벨, 지형, 몬스터 레벨, 몬스터 수, 버닝 등등 다양한 특징을 가진다. 상원이는 경험치가 가장 중요하기 때문에 사냥터의 특징을 **입장에 필요한 최소 경험치**와 **1분마다 얻는 경험치**로 간략화했다. 사냥을 시작하고 매 분마다 지금 있는 사냥터에서 계속 사냥할지 다른 사냥터로 갈지 결정한다. 코디 아이템에 돈을 다 써 텔레포트를 할 수 없는 상원이는 사냥터 사이를 직접 걸어서 이동한다. 사냥터 사이를 이동하는 동안 사냥을 할 수 없기 때문에 경험치를 얻을 수 없다.

처음에 캐릭터의 경험치는 0이기 때문에 **입장에 필요한 최소 경험치**가 0인 사냥터 중 하나를 골라 사냥을 시작한다. 상원이가 방학 동안 얻을 수 있는 경험치의 최댓값을 알려주자.



## 입출력

첫째 줄 사냥터 수 N (1≤N≤200)과 방학 기간을 분 단위로 나타낸 T (1≤T≤1000)가 주어진다.

다음 N개의 줄에는 i번째 사냥터의 특징인 **입장에 필요한 최소 경험치** ci와 **1분마다 얻는 경험치** ei가 주어진다. (0≤ci,ei≤1000000)

다음 N개의 줄에는 각 사냥터 사이를 이동하는 데 걸리는 시간이 주어진다. i번째 줄의 j번째 수는 i번 사냥터에서 j번 사냥터로 이동하여 입장하는 데까지 걸리는 시간을 분 단위로 나타낸 값 ti,j이다. (1≤ti,j≤1000, ti,j=tj,i, ti,i=0)

단, **입장에 필요한 최소 경험치** ci가 0인 사냥터는 반드시 하나 이상 존재한다.



| 입력   | 출력 |
| ------ | ---- |
| 2 10   | 350  |
| 0 10   |      |
| 50 100 |      |
| 0 2    |      |
| 2 0    |      |



## 코드

```python
import sys
input = sys.stdin.readline

N, T = map(int, input().split()) # 사냥터 수, 방학 기간
fields = [list(map(int, input().split())) for _ in range(N)]
edges = [list(map(int, input().split())) for _ in range(N)]

dp = [[0]*N for _ in range(T+1)]

for t in range(1, T+1):
    for i in range(N): # 도착
        if dp[t-1][i] >= fields[i][0]:
            dp[t][i] = dp[t-1][i] + fields[i][1]

        for j in range(N): # 출발
            if edges[i][j] <= t and dp[t-edges[i][j]][j] >= fields[i][0]:
                dp[t][i] = max(dp[t][i], dp[t-edges[i][j]][j])

print(max(dp[-1]))
```

`1760 ms` `127576 KB` `PyPy3`



## 설명

<u>1차원 dp를 사용했을 때는 실패</u>

정답 코드의 핵심은 **시간을 고려한 2차원 dp**



1. 시간대 별로, 각 사냥터의 상태를 기록하는 2차원 dp를 만들고
2. 시간에 대한 변수 t를 가지는 반복문을 돌린다
3. 각 시간대에서 모든 사냥터를 반복문으로 돌리면서
   1. 사냥터의 최소 경험치를 넘겼는지 확인 => 넘겼다면 분당 경험치를 추가
   2. 다른 사냥터 j에서 현재 사냥터 i로 오는 반복문 실행
      - 이 때 과거의 다른 사냥터 j에서 오는 경우가 더 큰 경험치를 얻을 수 있으면 교체



## 참조

> https://develoger.kr/20925%EB%B2%88-%EB%A9%94%EC%9D%B4%ED%94%8C%EC%8A%A4%ED%86%A0%EB%A6%AC/