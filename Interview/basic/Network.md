# Network

- **`HTTPS`**
  - SSL/TLS 계층을 이용한 보안 프로토콜
  - HTTP는 원래 TCP와 직접 통신했지만, HTTPS에서 HTTP는 SSL과 통신하고 SSL이 TCP와 통신함으로써 암호화와 증명서, 안전성 보호를 이용
  - 과정
    1. 클라이언트 : 랜덤 데이터, 암호화 목록
    2. 서버 : CA 개인키로 암호화된 SSL  인증서(with 서버 공개키)
    3. 서버 : 랜덤 데이터+서버 랜덤  데이터+SSL인증서+선택한 암호화 방식
    4. 클라이언트 : SSL 인증서를 CA 공개키로  복호화->인증 완료, 서버 공개키 확인
    5. 클라이언트 : 복호화->(대칭키)->서버  공개키 암호화
    6. 서버 : 서버 공개키 복호화->대칭키 확인
    7. 클라이언트 : 대칭키를 이용한 암호화 통신

- **`쿠키와 세션의 차이`**

  - **쿠키는** 사용자의 컴퓨터에 저장하는 작은 기록 정보 파일입니다. HTTP에서 클라이언트의 상태 정보를 PC에 저장했다가 필요시 정보를 참조하거나 재사용

  - **세션은** 일정 시간동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고, 그 상태를 유지시키는 기술

    | ** 쿠키(Cookie)**     | **세션(Session)**                                            |                                       |
    | --------------------- | ------------------------------------------------------------ | ------------------------------------- |
    | 저장 위치             | 클라이언트(=접속자 PC)                                       | 웹 서버                               |
    | 저장 형식             | text                                                         | Object                                |
    | 만료 시점             | 쿠키 저장시 설정 (브라우저가 종료되도, 만료시점이 지나지 않으면 삭제되지 않음) | 브라우저 종료시 삭제 (기간 지정 가능) |
    | 사용하는 자원(리소스) | 클라이언트 리소스                                            | 웹 서버 리소스                        |
    | 용량 제한             | 총 300개 하나의 도메인 당 20개 하나의 쿠키 당 4KB(=4096byte) | 서버가 허용하는 한 용량제한 없음      |
    | 속도                  | 세션보다 빠름                                                | 쿠키보다 느림                         |
    | 보안                  | 세션보다 안좋음                                              | 쿠키보다 좋음                         |

- **`TCP와 UDP의 차이`**

  - **TCP**는 연결형 서비스로 3-way handshaking 과정을 통해 연결을 설정하기 때문에 높은 신뢰성을 보장하지만, 속도가 비교적 느리다는 단점이 있습니다.

  - **UDP**는 비연결형 서비스로 3-way handshaking을 사용하지 않기 때문에 신뢰성이 떨어지는 단점이 있지만, 데이터 수신 여부를 확인하지 않기 때문에 속도가 빠르다는 장점이 있습니다.

    | **프로토콜 종류** | **TCP**            | **UDP**                   |
    | ----------------- | ------------------ | ------------------------- |
    | 연결 방식         | 연결형 서비스      | 비연결형 서비스           |
    | 패킷 교환 방식    | 가상 회선 방식     | 데이터그램 방식           |
    | 전송 순서         | 전송 순서 보장     | 전송 순서가 바뀔 수 있음  |
    | 수신 여부 확인    | 수신 여부를 확인함 | 수신 여부를 확인하지 않음 |
    | 통신 방식         | 1:1 통신           | 1:1 OR 1:N OR N:N 통신    |
    | 신뢰성            | 높다.              | 낮다.                     |
    | 속도              | 느리다.            | 빠르다.                   |

  - TCP 흐름 제어 / 혼잡 제어

    - 흐름 제어 : 송신 - 수신 간 속도 차이 해결
      - Stop and wait
        - ACK 확인 후 데이터 전송
      - Sliding window
        - 버퍼를 이용해서 여러 개를 보냄 -> 확인받으면 윈도우를 이동해서 또 여러 개를 보냄
    - 혼잡 제어 : 송신 - 네트워크 속도 차이 해결
      - 점점 window를 늘이며 많은 수를 보내다가 실패하면 속도를 절반으로 줄이고 다시 올리기 시작
      - Stop and wait ARQ
        - ACK가 없거나 NACK를 받으면 재전송
      - Go back N ARQ
        - ACK는 마지막 한 번만 보냄. NACK를 받으면 전부 다 다시 보냄
      - Selective repeat ARP
        - Go back N ARQ에서 NACK를 받은 데이터만 다시 보냄

- **`OSI 7계층`**

  - 7 계층(응용 계층) : 사용자에게 통신을 위한 서비스 제공. **인터페이스 역할**
  - 6 계층(표현 계층) : **데이터의 형식(Format)을 정의**하는 계층 (코드 간의 번역을 담당)
  - 5 계층(세션 계층) : **컴퓨터끼리 통신**을 하기 위해 세션을 만드는 계층 (Duplex, Half-Duplex)
  - 4 계층(전송 계층) : 최종 수신 프로세스로 **데이터의 전송을 담당**하는 계층 (단위 :Segment) (ex. TCP, UDP)
  - 3 계층(네트워크 계층) : 패킷을 **목적지까지 가장 빠른 길로 전송**하기 위한 계층 (단위 :Packet) (ex. Router)
  - 2 계층(데이터링크 계층) : 데이터의 **물리적인 전송과 에러 검출, 흐름 제어를 담당**하는 계층 (단위 :frame) (ex. 이더넷)
  - 1 계층(물리 계층) : 데이터를 전기 신호로 바꾸어주는 계층 (단위 :bit) (장비: 케이블,리피터,허브)

- **`TCP/IP 4계층`**

  - 응용 계층
  - 전송 계층 : 패킷 오류 검사, 재전송
  - 인터넷 계층 : IP, 라우팅
  - 네트워크 액세스 계층

- **`HTTP Method`**
  - GET : 조회
  - POST : 생성, 처리
  - PUT : 변경 (없으면 생성)
  - PATCH : 일부 변경
  - DELETE : 삭제

- **`Connection Timeout과 Read Timeout`**
  - 서버 자체에 클라이언트가 어떤 사유로 접근을 실패했을 시 적용되는 것이 Connection Timeout
  - 접속은 성공 했으나 서버가 로직을 수행하는 시간이 너무 길어 제대로 응답을 못 준 상태에서 클라이언트가 연결을 해제하는 것이 Read Timeout